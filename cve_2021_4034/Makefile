.PHONY: all
all: exploit gconv_modules gconvpath


.PHONY: gconvpath
gconvpath:
	cd pwnkit && cargo +nightly build --release --lib
	cp pwnkit/target/release/libpwnkit.so   pwnkit.so


.PHONY: exploit
exploit:
	cd exploit && cargo build --release
	cp exploit/target/release/exploit rust_exploit

.PHONY: clean
clean:
	rm -rf pwnkit.so
	rm -rf rust_exploit

gconv_modules:
	echo  "module UTF-8// PWNKIT// pwnkit 1" > $@

